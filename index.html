<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Power Avg.</title>
	<link href="../css/example.css" rel="stylesheet" type="text/css">
	<!--[if lte IE 8]><script language="javascript" type="text/javascript" src="../../excanvas.min.js"></script><![endif]-->
	<script language="javascript" type="text/javascript" src="https://cnarne.github.io/CyclingAnalytics/src/flot/jquery.js"></script>
	<script language="javascript" type="text/javascript" src="https://cnarne.github.io/CyclingAnalytics/src/flot/jquery.flot.js"></script>
	<script language="javascript" type="text/javascript" src="https://cnarne.github.io/CyclingAnalytics/src/flot/jquery.flot.navigate.js"></script>
	<script language="javascript" type="text/javascript" src="https://cnarne.github.io/CyclingAnalytics/src/flot/jquery.flot.selection.js"></script>
	<style type="text/css">

		#placeholder .button {
			position: absolute;
			cursor: pointer;
		}
	
		#placeholder div.button {
			font-size: smaller;
			color: #999;
			background-color: #eee;
			padding: 2px;
		}
		.message {
			padding-left: 50px;
			font-size: smaller;
		}
	
		</style>
	<script type="text/javascript">

		$(function () {

			// Shim allowing us to get the state of the check-box on jQuery versions
			// prior to 1.6, when prop was added.  The reason we don't just use attr
			// is because it doesn't work in jQuery versions 1.9.x and later.

			// TODO: Remove this once Flot's minimum supported jQuery reaches 1.6.
			if (typeof $.fn.prop != 'function') {
				$.fn.prop = $.fn.attr;
			}
			// var datum;
			// $.getJSON("datum.json", function (json) {
			// 	datum = json;
			// 	console.log(json);
			// 	console.log(datum);
			// 	//access your JSON file through the variable "json"
			// });
			//console.log(datum)
			var data = [{
				label: "Power Vs Time",
				data: [[0, 114], [1, 101], [2, 92], [3, 124], [4, 94], [5, 112], [6, 101], [7, 75], [8, 84], [9, 154], [10, 162], [11, 164], [12, 154], [13, 140], [14, 140], [15, 148], [16, 151], [17, 157], [18, 165], [19, 157], [20, 179], [21, 102], [22, 115], [23, 120], [24, 124], [25, 139], [26, 111], [27, 122], [28, 130], [29, 140], [30, 128], [31, 40], [32, 86], [33, 191], [34, 128], [35, 148], [36, 97], [37, 101], [38, 138], [39, 120], [40, 124], [41, 141], [42, 136], [43, 143], [44, 146], [45, 130], [46, 144], [47, 129], [48, 165], [49, 132], [50, 134], [51, 103], [52, 135], [53, 105], [54, 133], [55, 128], [56, 131], [57, 121], [58, 117], [59, 144], [60, 147], [61, 120], [62, 61], [63, 0], [64, 0], [65, 0], [66, 0], [67, 0], [68, 0], [69, 0], [70, 0], [71, 0], [72, 190], [73, 185], [74, 113], [75, 108], [76, 123], [77, 129], [78, 132], [79, 118], [80, 108], [81, 146], [82, 103], [83, 93], [84, 84], [85, 100], [86, 112], [87, 230], [88, 142], [89, 130], [90, 105], [91, 102], [92, 117], [93, 121], [94, 170], [95, 184], [96, 146], [97, 131], [98, 147], [99, 132], [100, 173], [101, 139], [102, 137], [103, 121], [104, 113], [105, 105], [106, 102], [107, 91], [108, 95], [109, 115], [110, 123], [111, 108], [112, 110], [113, 115], [114, 126], [115, 114], [116, 103], [117, 105], [118, 112], [119, 108], [120, 101], [121, 117], [122, 123], [123, 113], [124, 99], [125, 112], [126, 119], [127, 104], [128, 98], [129, 109], [130, 117], [131, 111], [132, 95], [133, 102], [134, 114], [135, 113], [136, 122], [137, 96], [138, 102], [139, 113], [140, 118], [141, 121], [142, 98], [143, 98], [144, 111], [145, 117], [146, 106], [147, 101], [148, 98], [149, 106], [150, 108], [151, 42], [152, 93], [153, 126], [154, 119], [155, 122], [156, 121], [157, 103], [158, 102], [159, 101], [160, 97], [161, 103], [162, 68], [163, 0], [164, 0], [165, 0], [166, 0], [167, 0], [168, 0], [169, 0], [170, 0], [171, 0], [172, 0], [173, 0], [174, 196], [175, 224], [176, 204], [177, 212], [178, 102], [179, 100], [180, 101], [181, 94], [182, 94], [183, 104], [184, 121], [185, 116], [186, 113], [187, 106], [188, 131], [189, 118], [190, 114], [191, 132], [192, 124], [193, 107], [194, 105], [195, 77], [196, 37], [197, 0], [198, 0], [199, 0], [200, 0], [201, 0], [202, 0], [203, 0], [204, 59], [205, 108], [206, 98], [207, 115], [208, 109], [209, 128], [210, 101], [211, 98], [212, 101], [213, 100], [214, 92], [215, 89], [216, 102], [217, 106], [218, 108], [219, 102], [220, 105], [221, 105], [222, 106], [223, 112], [224, 115], [225, 120], [226, 120], [227, 119], [228, 107], [229, 97], [230, 118], [231, 118], [232, 116], [233, 117], [234, 110], [235, 134], [236, 134], [237, 115], [238, 115], [239, 126], [240, 115], [241, 126], [242, 123], [243, 130], [244, 120], [245, 134], [246, 134], [247, 121], [248, 138], [249, 138], [250, 127], [251, 118], [252, 118], [253, 106], [254, 126], [255, 119], [256, 132], [257, 120], [258, 120], [259, 118], [260, 109], [261, 109], [262, 121], [263, 110], [264, 112], [265, 120], [266, 115], [267, 109], [268, 114], [269, 124], [270, 108], [271, 104], [272, 109], [273, 109], [274, 121], [275, 125], [276, 129], [277, 119], [278, 113], [279, 113], [280, 125], [281, 115], [282, 115], [283, 164], [284, 107], [285, 81], [286, 99], [287, 103], [288, 103], [289, 97], [290, 95], [291, 101], [292, 115], [293, 115], [294, 176], [295, 129], [296, 129], [297, 110], [298, 103], [299, 86], [300, 87], [301, 98], [302, 110], [303, 106], [304, 121], [305, 112], [306, 106], [307, 112], [308, 102], [309, 102], [310, 96], [311, 104], [312, 106], [313, 115], [314, 108], [315, 103], [316, 104], [317, 104], [318, 111], [319, 105], [320, 101], [321, 97], [322, 114], [323, 105], [324, 115], [325, 113], [326, 94], [327, 94], [328, 103], [329, 127], [330, 115], [331, 101], [332, 101], [333, 111], [334, 113], [335, 108], [336, 103], [337, 106], [338, 103], [339, 108], [340, 113], [341, 106], [342, 85], [343, 109], [344, 112], [345, 127], [346, 112], [347, 90], [348, 89], [349, 89], [350, 88], [351, 116], [352, 116], [353, 125], [354, 112], [355, 94], [356, 89], [357, 102], [358, 106], [359, 107], [360, 110], [361, 97], [362, 98], [363, 98], [364, 110], [365, 111], [366, 109], [367, 98], [368, 106], [369, 98], [370, 96], [371, 110], [372, 116], [373, 101], [374, 101], [375, 98], [376, 101], [377, 131], [378, 100], [379, 119], [380, 53], [381, 53], [382, 117], [383, 101], [384, 103], [385, 109], [386, 141], [387, 0], [388, 37], [389, 127], [390, 103], [391, 101], [392, 93], [393, 121], [394, 118], [395, 104], [396, 96], [397, 96], [398, 96], [399, 90], [400, 114], [401, 114], [402, 116], [403, 103], [404, 103], [405, 124], [406, 125], [407, 125], [408, 117], [409, 125], [410, 125], [411, 103], [412, 101], [413, 101], [414, 101], [415, 93], [416, 89], [417, 83], [418, 99], [419, 114], [420, 108], [421, 96], [422, 109], [423, 109], [424, 109], [425, 110], [426, 99], [427, 107], [428, 113], [429, 103], [430, 110], [431, 110], [432, 114], [433, 104], [434, 110], [435, 106], [436, 110], [437, 122], [438, 115], [439, 103], [440, 96], [441, 105], [442, 113], [443, 112], [444, 97], [445, 97], [446, 96], [447, 97], [448, 109], [449, 109], [450, 107], [451, 111], [452, 107], [453, 107], [454, 102], [455, 108], [456, 104], [457, 107], [458, 97], [459, 99], [460, 100], [461, 13], [462, 13], [463, 0], [464, 18], [465, 109], [466, 143], [467, 114], [468, 121], [469, 115], [470, 98], [471, 98], [472, 0], [473, 0], [474, 0], [475, 125], [476, 138], [477, 138], [478, 130], [479, 90], [480, 106], [481, 109], [482, 114], [483, 108], [484, 100], [485, 104], [486, 104], [487, 96], [488, 93], [489, 97], [490, 115], [491, 114], [492, 123], [493, 81], [494, 114], [495, 139], [496, 96], [497, 110], [498, 103], [499, 138], [500, 120], [501, 120], [502, 94], [503, 97], [504, 92], [505, 100], [506, 100], [507, 108], [508, 96], [509, 109], [510, 109], [511, 114], [512, 116], [513, 116], [514, 91], [515, 99], [516, 110], [517, 117], [518, 117], [519, 103], [520, 103], [521, 108], [522, 131], [523, 119], [524, 102], [525, 116], [526, 101], [527, 104], [528, 104], [529, 107], [530, 92], [531, 95], [532, 102], [533, 84], [534, 96], [535, 105], [536, 120], [537, 76], [538, 97], [539, 96], [540, 98], [541, 96], [542, 96], [543, 110], [544, 102], [545, 102], [546, 102], [547, 100], [548, 94], [549, 114], [550, 109], [551, 109], [552, 96], [553, 98], [554, 106], [555, 114], [556, 109], [557, 119], [558, 88], [559, 94], [560, 105], [561, 104], [562, 116], [563, 112], [564, 105], [565, 103], [566, 103], [567, 108], [568, 111], [569, 108], [570, 99], [571, 98], [572, 98], [573, 113], [574, 113], [575, 116], [576, 93], [577, 93], [578, 101], [579, 112], [580, 111], [581, 115], [582, 115], [583, 110], [584, 120], [585, 120], [586, 101], [587, 101], [588, 106], [589, 101], [590, 117], [591, 91], [592, 93], [593, 93], [594, 113], [595, 118], [596, 109], [597, 94], [598, 89], [599, 98], [600, 98], [601, 157], [602, 156], [603, 198], [604, 159], [605, 146], [606, 146], [607, 143], [608, 126], [609, 126], [610, 171], [611, 146], [612, 163], [613, 156], [614, 157], [615, 139], [616, 145], [617, 145], [618, 138], [619, 179], [620, 150], [621, 156], [622, 142], [623, 128], [624, 158], [625, 158], [626, 153], [627, 161], [628, 136], [629, 145], [630, 136], [631, 147], [632, 167], [633, 143], [634, 153], [635, 152], [636, 137], [637, 162], [638, 162], [639, 159], [640, 167], [641, 167], [642, 139], [643, 158], [644, 170], [645, 151], [646, 165], [647, 157], [648, 139], [649, 139], [650, 162], [651, 160], [652, 160], [653, 160], [654, 153], [655, 151], [656, 143], [657, 160], [658, 162], [659, 155], [660, 155], [661, 144], [662, 144], [663, 155], [664, 155], [665, 153], [666, 166], [667, 156], [668, 159], [669, 150], [670, 150], [671, 142], [672, 160], [673, 151], [674, 151], [675, 158], [676, 154], [677, 124], [678, 166], [679, 147], [680, 158], [681, 157], [682, 147], [683, 166], [684, 134], [685, 150], [686, 158], [687, 142], [688, 162], [689, 178], [690, 148], [691, 150], [692, 159], [693, 138], [694, 154], [695, 163], [696, 158], [697, 158], [698, 150], [699, 152], [700, 161], [701, 161], [702, 157], [703, 143], [704, 147], [705, 147], [706, 160], [707, 164], [708, 148], [709, 160], [710, 158], [711, 148], [712, 164], [713, 160], [714, 164], [715, 164], [716, 157], [717, 136], [718, 162], [719, 159], [720, 149], [721, 165], [722, 163], [723, 137], [724, 137], [725, 158], [726, 131], [727, 171], [728, 173], [729, 152], [730, 162], [731, 153], [732, 153], [733, 138], [734, 160], [735, 154], [736, 157], [737, 157], [738, 153], [739, 155], [740, 161], [741, 151], [742, 151], [743, 158], [744, 143], [745, 136], [746, 149], [747, 149], [748, 140], [749, 143], [750, 149], [751, 137], [752, 213], [753, 216], [754, 173], [755, 186], [756, 161], [757, 170], [758, 173], [759, 175], [760, 172], [761, 190], [762, 167], [763, 177], [764, 178], [765, 165], [766, 165], [767, 177], [768, 185], [769, 185], [770, 167], [771, 148], [772, 158], [773, 209], [774, 209], [775, 209], [776, 157], [777, 124], [778, 161], [779, 161], [780, 186], [781, 187], [782, 171], [783, 171], [784, 192], [785, 188], [786, 173], [787, 144], [788, 178], [789, 168], [790, 193], [791, 187], [792, 175], [793, 157], [794, 165], [795, 192], [796, 193], [797, 183], [798, 183], [799, 194], [800, 166], [801, 190], [802, 190], [803, 182], [804, 184], [805, 167], [806, 175], [807, 179], [808, 176], [809, 175], [810, 186], [811, 187], [812, 178], [813, 166], [814, 175], [815, 179], [816, 181], [817, 196], [818, 196], [819, 172], [820, 151], [821, 169], [822, 188], [823, 186], [824, 175], [825, 163], [826, 164], [827, 181], [828, 185], [829, 185], [830, 187], [831, 163], [832, 175], [833, 185], [834, 185], [835, 187], [836, 177], [837, 173], [838, 159], [839, 182], [840, 194], [841, 194], [842, 178], [843, 175], [844, 179], [845, 176], [846, 182], [847, 191], [848, 177], [849, 169], [850, 168], [851, 179], [852, 175], [853, 175], [854, 186], [855, 171], [856, 170], [857, 171], [858, 171], [859, 184], [860, 179], [861, 181], [862, 181], [863, 182], [864, 162], [865, 163], [866, 163], [867, 188], [868, 184], [869, 170], [870, 180], [871, 173], [872, 187], [873, 177], [874, 173], [875, 169], [876, 168], [877, 186], [878, 177], [879, 177], [880, 179], [881, 175], [882, 173], [883, 173], [884, 184], [885, 192], [886, 181], [887, 162], [888, 163], [889, 167], [890, 193], [891, 183], [892, 182], [893, 166], [894, 183], [895, 183], [896, 182], [897, 183], [898, 181], [899, 186], [900, 173], [901, 166], [902, 231], [903, 231], [904, 215], [905, 233], [906, 193], [907, 168], [908, 227], [909, 196], [910, 208], [911, 210], [912, 203], [913, 192], [914, 202], [915, 197], [916, 217], [917, 212], [918, 205], [919, 205], [920, 217], [921, 195], [922, 216], [923, 216], [924, 179], [925, 189], [926, 189], [927, 205], [928, 222], [929, 214], [930, 212], [931, 191], [932, 206], [933, 222], [934, 223], [935, 220], [936, 220], [937, 210], [938, 210], [939, 189], [940, 201], [941, 201], [942, 201], [943, 204], [944, 198], [945, 212], [946, 199], [947, 199], [948, 205], [949, 241], [950, 235], [951, 200], [952, 203], [953, 207], [954, 185], [955, 177], [956, 204], [957, 234], [958, 203], [959, 203], [960, 200], [961, 216], [962, 207], [963, 207], [964, 214], [965, 216], [966, 208], [967, 203], [968, 187], [969, 220], [970, 220], [971, 206], [972, 187], [973, 198], [974, 211], [975, 224], [976, 213], [977, 207], [978, 207], [979, 213], [980, 199], [981, 218], [982, 210], [983, 204], [984, 209], [985, 209], [986, 209], [987, 200], [988, 216], [989, 216], [990, 216], [991, 216], [992, 201], [993, 204], [994, 184], [995, 193], [996, 205], [997, 228], [998, 202], [999, 202], [1000, 201], [1001, 221], [1002, 221], [1003, 202], [1004, 220], [1005, 203], [1006, 203], [1007, 186], [1008, 205], [1009, 209], [1010, 222], [1011, 225], [1012, 195], [1013, 191], [1014, 188], [1015, 188], [1016, 212], [1017, 222], [1018, 203], [1019, 189], [1020, 183], [1021, 228], [1022, 215], [1023, 215], [1024, 209], [1025, 203], [1026, 203], [1027, 163], [1028, 211], [1029, 215], [1030, 226], [1031, 207], [1032, 199], [1033, 196], [1034, 207], [1035, 215], [1036, 213], [1037, 213], [1038, 205], [1039, 205], [1040, 195], [1041, 205], [1042, 231], [1043, 223], [1044, 202], [1045, 198], [1046, 204], [1047, 197], [1048, 214], [1049, 239], [1050, 242], [1051, 223], [1052, 194], [1053, 202], [1054, 190], [1055, 190], [1056, 246], [1057, 247], [1058, 247], [1059, 234], [1060, 226], [1061, 191], [1062, 214], [1063, 224], [1064, 247], [1065, 247], [1066, 216], [1067, 217], [1068, 218], [1069, 227], [1070, 248], [1071, 248], [1072, 251], [1073, 222], [1074, 206], [1075, 221], [1076, 243], [1077, 226], [1078, 222], [1079, 218], [1080, 231], [1081, 215], [1082, 226], [1083, 221], [1084, 237], [1085, 225], [1086, 245], [1087, 245], [1088, 236], [1089, 233], [1090, 235], [1091, 237], [1092, 221], [1093, 242], [1094, 247], [1095, 248], [1096, 196], [1097, 196], [1098, 201], [1099, 225], [1100, 271], [1101, 260], [1102, 226], [1103, 202], [1104, 184], [1105, 201], [1106, 207], [1107, 214], [1108, 240], [1109, 218], [1110, 197], [1111, 224], [1112, 217], [1113, 226], [1114, 226], [1115, 243], [1116, 240], [1117, 226], [1118, 207], [1119, 207], [1120, 221], [1121, 219], [1122, 244], [1123, 241], [1124, 229], [1125, 225], [1126, 228], [1127, 218], [1128, 227], [1129, 227], [1130, 244], [1131, 224], [1132, 226], [1133, 218], [1134, 218], [1135, 230], [1136, 243], [1137, 238], [1138, 219], [1139, 212], [1140, 215], [1141, 216], [1142, 244], [1143, 234], [1144, 234], [1145, 233], [1146, 239], [1147, 225], [1148, 217], [1149, 223], [1150, 256], [1151, 256], [1152, 226], [1153, 227], [1154, 244], [1155, 239], [1156, 211], [1157, 210], [1158, 219], [1159, 229], [1160, 241], [1161, 228], [1162, 219], [1163, 216], [1164, 216], [1165, 210], [1166, 274], [1167, 234], [1168, 231], [1169, 208], [1170, 216], [1171, 211], [1172, 217], [1173, 222], [1174, 196], [1175, 235], [1176, 231], [1177, 219], [1178, 234], [1179, 217], [1180, 217], [1181, 228], [1182, 239], [1183, 239], [1184, 215], [1185, 227], [1186, 213], [1187, 241], [1188, 243], [1189, 231], [1190, 237], [1191, 228], [1192, 220], [1193, 228], [1194, 234], [1195, 234], [1196, 230], [1197, 232], [1198, 245], [1199, 236], [1200, 246], [1201, 272], [1202, 266], [1203, 236], [1204, 237], [1205, 242], [1206, 255], [1207, 248], [1208, 245], [1209, 246], [1210, 271], [1211, 273], [1212, 284], [1213, 254], [1214, 234], [1215, 234], [1216, 286], [1217, 286], [1218, 293], [1219, 252], [1220, 236], [1221, 211], [1222, 240], [1223, 266], [1224, 258], [1225, 243], [1226, 258], [1227, 258], [1228, 209], [1229, 278], [1230, 256], [1231, 319], [1232, 260], [1233, 239], [1234, 255], [1235, 209], [1236, 170], [1237, 269], [1238, 229], [1239, 349], [1240, 278], [1241, 278], [1242, 238], [1243, 248], [1244, 231], [1245, 271], [1246, 310], [1247, 310], [1248, 275], [1249, 258], [1250, 230], [1251, 232], [1252, 207], [1253, 242], [1254, 211], [1255, 256], [1256, 256], [1257, 225], [1258, 225], [1259, 240], [1260, 264], [1261, 271], [1262, 269], [1263, 262], [1264, 231], [1265, 253], [1266, 267], [1267, 275], [1268, 266], [1269, 235], [1270, 244], [1271, 238], [1272, 256], [1273, 256], [1274, 265], [1275, 239], [1276, 231], [1277, 227], [1278, 265], [1279, 265], [1280, 262], [1281, 275], [1282, 251], [1283, 249], [1284, 251], [1285, 259], [1286, 245], [1287, 253], [1288, 253], [1289, 250], [1290, 264], [1291, 264], [1292, 270], [1293, 263], [1294, 253], [1295, 234], [1296, 258], [1297, 238], [1298, 252], [1299, 248], [1300, 256], [1301, 256], [1302, 236], [1303, 276], [1304, 267], [1305, 242], [1306, 260], [1307, 251], [1308, 248], [1309, 248], [1310, 260], [1311, 260], [1312, 248], [1313, 263], [1314, 249], [1315, 261], [1316, 260], [1317, 232], [1318, 253], [1319, 253], [1320, 237], [1321, 252], [1322, 236], [1323, 254], [1324, 292], [1325, 260], [1326, 260], [1327, 250], [1328, 257], [1329, 251], [1330, 262], [1331, 271], [1332, 271], [1333, 260], [1334, 237], [1335, 229], [1336, 257], [1337, 257], [1338, 266], [1339, 269], [1340, 246], [1341, 262], [1342, 264], [1343, 264], [1344, 275], [1345, 285], [1346, 257], [1347, 242], [1348, 241], [1349, 232], [1350, 228], [1351, 217], [1352, 177], [1353, 217], [1354, 217], [1355, 256], [1356, 260], [1357, 250], [1358, 281], [1359, 249], [1360, 309], [1361, 274], [1362, 266], [1363, 284], [1364, 263], [1365, 244], [1366, 277], [1367, 290], [1368, 296], [1369, 326], [1370, 251], [1371, 248], [1372, 275], [1373, 274], [1374, 271], [1375, 271], [1376, 294], [1377, 282], [1378, 266], [1379, 278], [1380, 296], [1381, 255], [1382, 276], [1383, 299], [1384, 255], [1385, 272], [1386, 276], [1387, 266], [1388, 318], [1389, 288], [1390, 288], [1391, 288], [1392, 247], [1393, 274], [1394, 294], [1395, 297], [1396, 259], [1397, 286], [1398, 244], [1399, 275], [1400, 299], [1401, 305], [1402, 259], [1403, 301], [1404, 305], [1405, 258], [1406, 273], [1407, 273], [1408, 309], [1409, 287], [1410, 272], [1411, 293], [1412, 288], [1413, 265], [1414, 256], [1415, 330], [1416, 306], [1417, 279], [1418, 279], [1419, 218], [1420, 260], [1421, 284], [1422, 294], [1423, 333], [1424, 278], [1425, 244], [1426, 239], [1427, 262], [1428, 251], [1429, 288], [1430, 283], [1431, 237], [1432, 244], [1433, 225], [1434, 333], [1435, 310], [1436, 310], [1437, 268], [1438, 258], [1439, 258], [1440, 234], [1441, 265], [1442, 276], [1443, 254], [1444, 300], [1445, 270], [1446, 274], [1447, 267], [1448, 231], [1449, 300], [1450, 260], [1451, 278], [1452, 287], [1453, 291], [1454, 252], [1455, 244], [1456, 258], [1457, 267], [1458, 290], [1459, 288], [1460, 289], [1461, 253], [1462, 244], [1463, 263], [1464, 268], [1465, 271], [1466, 266], [1467, 278], [1468, 259], [1469, 271], [1470, 264], [1471, 264], [1472, 269], [1473, 286], [1474, 271], [1475, 271], [1476, 251], [1477, 285], [1478, 273], [1479, 304], [1480, 279], [1481, 273], [1482, 256], [1483, 256], [1484, 270], [1485, 292], [1486, 271], [1487, 271], [1488, 275], [1489, 293], [1490, 282], [1491, 280], [1492, 268], [1493, 253], [1494, 269], [1495, 268], [1496, 291], [1497, 286], [1498, 286], [1499, 266], [1500, 258], [1501, 126], [1502, 126], [1503, 325], [1504, 338], [1505, 366], [1506, 325], [1507, 286], [1508, 247], [1509, 286], [1510, 319], [1511, 364], [1512, 330], [1513, 298], [1514, 249], [1515, 259], [1516, 284], [1517, 295], [1518, 353], [1519, 313], [1520, 353], [1521, 303], [1522, 334], [1523, 295], [1524, 328], [1525, 340], [1526, 355], [1527, 349], [1528, 291], [1529, 313], [1530, 320], [1531, 298], [1532, 330], [1533, 326], [1534, 327], [1535, 327], [1536, 314], [1537, 320], [1538, 278], [1539, 289], [1540, 279], [1541, 301], [1542, 296], [1543, 328], [1544, 302], [1545, 287], [1546, 294], [1547, 294], [1548, 298], [1549, 313], [1550, 324], [1551, 302], [1552, 313], [1553, 313], [1554, 314], [1555, 281], [1556, 309], [1557, 291], [1558, 328], [1559, 293], [1560, 334], [1561, 291], [1562, 310], [1563, 301], [1564, 313], [1565, 279], [1566, 278], [1567, 278], [1568, 309], [1569, 341], [1570, 326], [1571, 303], [1572, 316], [1573, 298], [1574, 308], [1575, 335], [1576, 299], [1577, 279], [1578, 317], [1579, 317], [1580, 327], [1581, 346], [1582, 329], [1583, 299], [1584, 287], [1585, 286], [1586, 324], [1587, 297], [1588, 267], [1589, 333], [1590, 335], [1591, 311], [1592, 316], [1593, 308], [1594, 283], [1595, 283], [1596, 323], [1597, 323], [1598, 297], [1599, 297], [1600, 308], [1601, 286], [1602, 309], [1603, 334], [1604, 363], [1605, 356], [1606, 300], [1607, 248], [1608, 206], [1609, 278], [1610, 279], [1611, 353], [1612, 349], [1613, 349], [1614, 271], [1615, 238], [1616, 238], [1617, 315], [1618, 364], [1619, 342], [1620, 297], [1621, 242], [1622, 241], [1623, 281], [1624, 309], [1625, 306], [1626, 345], [1627, 299], [1628, 305], [1629, 302], [1630, 283], [1631, 283], [1632, 277], [1633, 292], [1634, 290], [1635, 291], [1636, 361], [1637, 329], [1638, 313], [1639, 294], [1640, 294], [1641, 288], [1642, 279], [1643, 341], [1644, 336], [1645, 305], [1646, 305], [1647, 305], [1648, 290], [1649, 271], [1650, 378], [1651, 378], [1652, 353], [1653, 317], [1654, 275], [1655, 280], [1656, 350], [1657, 351], [1658, 376], [1659, 360], [1660, 315], [1661, 315], [1662, 306], [1663, 306], [1664, 327], [1665, 342], [1666, 370], [1667, 363], [1668, 340], [1669, 333], [1670, 303], [1671, 347], [1672, 335], [1673, 356], [1674, 320], [1675, 326], [1676, 326], [1677, 321], [1678, 323], [1679, 390], [1680, 350], [1681, 350], [1682, 335], [1683, 332], [1684, 287], [1685, 290], [1686, 318], [1687, 358], [1688, 388], [1689, 371], [1690, 329], [1691, 318], [1692, 304], [1693, 375], [1694, 344], [1695, 344], [1696, 323], [1697, 333], [1698, 307], [1699, 338], [1700, 339], [1701, 341], [1702, 333], [1703, 367], [1704, 331], [1705, 316], [1706, 337], [1707, 350], [1708, 350], [1709, 335], [1710, 316], [1711, 304], [1712, 340], [1713, 342], [1714, 340], [1715, 336], [1716, 336], [1717, 315], [1718, 346], [1719, 326], [1720, 307], [1721, 337], [1722, 343], [1723, 351], [1724, 344], [1725, 338], [1726, 296], [1727, 296], [1728, 304], [1729, 325], [1730, 372], [1731, 404], [1732, 389], [1733, 292], [1734, 254], [1735, 230], [1736, 281], [1737, 359], [1738, 365], [1739, 329], [1740, 328], [1741, 252], [1742, 294], [1743, 345], [1744, 387], [1745, 355], [1746, 382], [1747, 342], [1748, 211], [1749, 278], [1750, 251], [1751, 342], [1752, 343], [1753, 456], [1754, 420], [1755, 377], [1756, 147], [1757, 0], [1758, 0], [1759, 0], [1760, 0], [1761, 0], [1762, 0], [1763, 0], [1764, 0], [1765, 63], [1766, 38], [1767, 20], [1768, 0], [1769, 0], [1770, 0], [1771, 0], [1772, 0]]
			}];

			var options = {
				series: {
					lines: {
						show: true,
						lineWidth: 0.000001,
						highlightColor: "rgb(0,0,0)"
					},
					points: {
						show: false
					}
				},
				grid: {
					hoverable: true,
					clickable: true
				},
				colors: ["#d18b2c", "#dba255", "#919733"],
				legend: {
					noColumns: 2,
					position: "nw"
				},
				xaxis: {
					tickDecimals: 0
				},
				yaxis: {
					min: 0
				},
				selection: {
					mode: "x"
				},
				xaxis: {
					zoomRange: [1, 1800],
					panRange: [1, 1800]
				},
				yaxis: {
					zoomRange: [1, 500],
					panRange: [1, 500]
				},
				zoom: {
					interactive: true
				}
				//			pan: {
				//				interactive: true
				//			}
			}


			var placeholder = $("#placeholder");
			placeholder.bind("label")
			placeholder.bind("plotselected", function (event, ranges) {
				var powerFlots = data.slice(Math.floor(ranges.xaxis.from.toFixed(1)), Math.floor(ranges.xaxis.to.toFixed(1)));
				var xyRange = data[0].data.slice(Math.floor(ranges.xaxis.from.toFixed(1)), Math.floor(ranges.xaxis.to.toFixed(1)));
				var sum = 0;
				for (x = 0; x < xyRange.length; x++) {
					console.log(xyRange[x][1])
					sum = sum + xyRange[x][1];
				}
				var average = sum / xyRange.length;
				console.log(average);
				$("#selection").text(Math.floor(average * 100 / 100) + "w Avg. between "+ toHhMmSs(ranges.xaxis.from.toFixed(1)) + " and " + toHhMmSs(ranges.xaxis.to.toFixed(1)) );
				var zoom = $("#zoom").prop("checked");

				if (zoom) {
					$.each(plot.getXAxes(), function (_, axis) {
						var opts = axis.options;
						opts.min = ranges.xaxis.from;
						opts.max = ranges.xaxis.to;
					});
					plot.setupGrid();
					plot.draw();
					plot.clearSelection();
				}
				});


			placeholder.bind("plotunselected", function (event) {
				$("#selection").text("");
			});

			$("#placeholder").bind("plothover", function (event, pos, item) {
				if(pos.y.toFixed(2) > 0)
				   var str = Math.floor(pos.y.toFixed(2) * 100/100) + "watts @ "+toHhMmSs(pos.x.toFixed(2));
				$("#hoverdata").text(str);
				if (item) {
					var x = item.datapoint[0].toFixed(2),
						y = item.datapoint[1].toFixed(2);

					$("#tooltip").html(item.series.label + " of " + x + " = " + y)
						.css({ top: item.pageY + 5, left: item.pageX + 5 })
						.fadeIn(200);
				} else {
					$("#tooltip").hide();
				}
			});

			function toHhMmSs(time) {
    			if(time > 3600) {
					var timeFloorh = Math.floor(time)
					return Math.floor(timeFloorh/3600)+"h"+Math.floor(timeFloorh % 3600/60)+"m"+Math.floor(timeFloorh % 3600)%60+"s";
				}
				else {
					var timeFloor = Math.floor(time * 100)/100;
					return Math.floor(timeFloor % 3600/60)+"m"+Math.floor(timeFloor % 3600)%60+"s"
				}              // The function returns the product of p1 and p2
			}
			var plot = $.plot(placeholder, data, options);

			$("#clearSelection").click(function () {
				plot.clearSelection();
			});

			placeholder.bind("plotpan", function (event, plot) {
				var axes = plot.getAxes();
				$(".message").html("Panning to x: " + axes.xaxis.min.toFixed(2)
					+ " &ndash; " + axes.xaxis.max.toFixed(2)
					+ " and y: " + axes.yaxis.min.toFixed(2)
					+ " &ndash; " + axes.yaxis.max.toFixed(2));
			});

			placeholder.bind("plotzoom", function (event, plot) {
				var axes = plot.getAxes();
				$(".message").html("Zooming to x: " + axes.xaxis.min.toFixed(2)
					+ " &ndash; " + axes.xaxis.max.toFixed(2)
					+ " and y: " + axes.yaxis.min.toFixed(2)
					+ " &ndash; " + axes.yaxis.max.toFixed(2));
			});
			function addArrow(dir, right, top, offset) {
			$("<img class='button' src='../images/arrow-" + dir + ".gif' style='right:" + right + "px;top:" + top + "px'>")
				.appendTo(placeholder)
				.click(function (e) {
					e.preventDefault();
					plot.pan(offset);
				});
		}

		addArrow("left", 55, 30, { left: -100 });
		addArrow("right", 25, 30, { left: 100 });
		addArrow("up", 40, 15, { top: -100 });
		addArrow("down", 40, 45, { top: 100 });

			// add zoom out button 

			// $("<div class='button' style='right:20px;top:20px'>zoom out</div>")
			// 	.appendTo(placeholder)
			// 	.click(function (event) {
			// 		event.preventDefault();
			// 		plot.zoomOut();
			// 	});

			// Add the Flot version string to the footer

			$("#footer").prepend("Flot " + $.plot.version + " &ndash; ");
		});

	</script>
</head>

<body>

	<div id="header">
		<h2>Time Vs. Power</h2>
	</div>

	<div id="content">

		<div class="demo-container">
			<div id="placeholder" class="demo-placeholder"></div>
		</div>

		<p>Calculate average power by selecting a range of data.</p>

		<p>
			<span id="selection"></span>
		</p>
		<span id="hoverdata"></span>

		<p>
			<button id="clearSelection">Clear selection</button>

	</div>

	<div id="footer">
		Copyright &copy; 2007 - 2014 IOLA and Ole Laursen
	</div>

</body>

</html>